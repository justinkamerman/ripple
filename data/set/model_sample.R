library("MASS")

#users = read.table ('users.dat')
#colnames (users) = c('id', 'followers', 'friends', 'status')

par(mfrow=c(1,2))
followers.x <- sample (users$followers, 1000)
followers.h <- hist (followers.x, plot=FALSE)
followers.xhist <- c(followers.h$breaks)
followers.yhist <- c(followers.h$density, 0)
followers.est <- fitdistr (followers.x, densfun="gamma")
followers.xfit <- seq (min(followers.x), max(followers.x), by=1)
followers.yfit <- with (as.list(coef(followers.est)), dgamma(followers.xfit, shape=shape, rate=rate, scale=scale))
plot (followers.xhist, followers.yhist, type="s")
lines (followers.xfit, followers.yfit, col="red")
qqplot (followers.yfit, followers.yhist, main="", ylab="", xlab="")
abline (0,1)
